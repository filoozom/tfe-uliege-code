syntax = "proto3";

message TimestampedMessage {
  uint32 date = 1;
  oneof data {
    DataPoint dataPoint = 2;
  }
}

message SignedData {
  bytes source = 1;
  bytes signature = 2;
  TimestampedMessage data = 3;
}

message DataPoint {
  bytes previous = 1;
  sint32 temperature = 2;
  uint32 humidity = 3;
}

message Request {
  repeated string multiaddresses = 1;
  message Query {
    bytes device = 1;
    uint32 from = 2;
    uint32 to = 3;
  }
}
